<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Sun Rings - Jogo de Boliche</title>
    <link rel="stylesheet" href="../css/style.css"> 
    <style>
        /* Estilos adicionais para a página do jogo */
        body {
            background: linear-gradient(to bottom right, #001f3f, #005b96);
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }

        header {
            margin-bottom: 20px;
        }

        h1 {
            font-size: 2.5rem;
        }

        .round {
            background-color: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            width: 100%;
            max-width: 500px;
        }

        input[type="number"] {
            width: 50px;
            padding: 5px;
            margin: 0 5px;
            border: 2px solid #ccc;
            border-radius: 5px;
        }

        button {
            padding: 10px 20px;
            background-color: #FF4081; /* Cor do botão */
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            margin-top: 20px;
        }

        button:hover {
            background-color: #ff6699;
        }

        #resultado {
            margin-top: 20px;
        }

        ul {
            list-style-type: none;
        }

        ul li {
            margin: 5px 0;
            padding: 10px;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 5px;
        }
    </style>
</head>

<body>

    <header>
        <h1>SunRings</h1>
    </header>

    <main>
        <div id="roundsContainer">
            <div class="round" id="round1">
                <h2>Round 1</h2>
                <div>
                    <span>Jogador:</span>
                    <select id="jogadorRound1"></select>
                    <input type="number" id="pontuacaoRound1" placeholder="Pontuação" min="0">
                    <button onclick="adicionarPontuacao(1)">Adicionar Pontuação</button>
                </div>
            </div>
            <div class="round" id="round2">
                <h2>Round 2</h2>
                <div>
                    <span>Jogador:</span>
                    <select id="jogadorRound2"></select>
                    <input type="number" id="pontuacaoRound2" placeholder="Pontuação" min="0">
                    <button onclick="adicionarPontuacao(2)">Adicionar Pontuação</button>
                </div>
            </div>
            <div class="round" id="round3">
                <h2>Round 3</h2>
                <div>
                    <span>Jogador:</span>
                    <select id="jogadorRound3"></select>
                    <input type="number" id="pontuacaoRound3" placeholder="Pontuação" min="0">
                    <button onclick="adicionarPontuacao(3)">Adicionar Pontuação</button>
                </div>
            </div>
        </div>

        <div id="resultado">
            <h2>Resultados</h2>
            <ul id="resultadoJogadores"></ul>
        </div>
    </main>

    <footer>
        <p>&copy; 2024 Sun Rings. Todos os direitos reservados.</p>
    </footer>

    <script>
        let pontuacoes = {};

        // Carregar jogadores do localStorage
        const jogadoresSalvos = JSON.parse(localStorage.getItem('jogadores')) || [];
        
        // Preencher as opções de jogadores nos selects
        jogadoresSalvos.forEach(jogador => {
            const option1 = document.createElement('option');
            option1.value = jogador;
            option1.textContent = jogador;
            document.getElementById('jogadorRound1').appendChild(option1);
            
            const option2 = document.createElement('option');
            option2.value = jogador;
            option2.textContent = jogador;
            document.getElementById('jogadorRound2').appendChild(option2);
            
            const option3 = document.createElement('option');
            option3.value = jogador;
            option3.textContent = jogador;
            document.getElementById('jogadorRound3').appendChild(option3);
        });

        function adicionarPontuacao(round) {
            const jogadorNome = document.getElementById(`jogadorRound${round}`).value;
            const pontuacao = parseInt(document.getElementById(`pontuacaoRound${round}`).value) || 0;

            if (!jogadorNome) {
                alert("Por favor, selecione um jogador.");
                return;
            }

            if (!pontuacao && pontuacao !== 0) {
                alert("Por favor, insira uma pontuação válida.");
                return;
            }

            if (!pontuacoes[jogadorNome]) {
                pontuacoes[jogadorNome] = [0, 0, 0]; // Inicia um array para 3 rounds
            }

            pontuacoes[jogadorNome][round - 1] = pontuacao; // Adiciona a pontuação no round correspondente

            exibirResultados();
            document.getElementById(`pontuacaoRound${round}`).value = ''; // Limpa o campo da pontuação
        }

        function exibirResultados() {
            const resultadoEl = document.getElementById('resultadoJogadores');
            resultadoEl.innerHTML = ''; // Limpa resultados anteriores

            for (const jogador in pontuacoes) {
                const total = pontuacoes[jogador].reduce((acc, curr) => acc + curr, 0); // Soma as pontuações
                const li = document.createElement('li');
                li.textContent = `${jogador}: Pontuação Total: ${total} (R1: ${pontuacoes[jogador][0]}, R2: ${pontuacoes[jogador][1]}, R3: ${pontuacoes[jogador][2]})`;
                resultadoEl.appendChild(li);
            }
        }
    </script>

</body>
</html>
